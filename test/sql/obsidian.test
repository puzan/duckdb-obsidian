# name: test/sql/obsidian.test
# description: test obsidian extension
# group: [sql]

# Require statement will ensure this test is run with this extension loaded
require obsidian

# obsidian_notes returns filename and filepath columns
query II
SELECT filename, filepath FROM obsidian_notes('test/sql/vault') ORDER BY filename;
----
note_a.md	test/sql/vault/note_a.md
note_b.md	test/sql/vault/subdir/note_b.md

# obsidian_notes errors on a directory without .obsidian
statement error
SELECT * FROM obsidian_notes('test/sql/not_a_vault');
----
not an Obsidian vault
